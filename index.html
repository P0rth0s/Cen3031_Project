<div> 

<div class="tableWrapper">
            <table class="table table-striped table-hover">
	            <thead>  
	              <tr>
	                <th>Code</th>
	                <th>Building Name</th>
	                <th></th>
	              </tr>
				</thead>          
  
                <tbody id="coursesTable">
	              <tr >
	                <td> Error </td>
	                <td> Error </td>
	              </tr>
         		</tbody>

          
            </table>
          </div>

</div>

<script>

	const coursesBody = document.getElementById('coursesTable');
	
	function loadCourses()	{

		var request = new XMLHttpRequest();

		request.open('GET', 'https://one.ufl.edu/apix/soc/schedule/?category=RES&term=2188&last-control-number=0', true);
		request.onload = function () {

		    // Begin accessing JSON data here
		    var courses = JSON.parse(request.responseText)[0].COURSES;
		    populateCourses(courses);	

		}

		request.send();

	}


	function populateCourses(courses)	{
		
		//clears out existing table
		while (coursesBody.firstChild)	{
			coursesBody.removeChild(coursesBody.firstChild);
		}

		//populates table
		courses.forEach((courses) =>	{
			console.log(courses.name);
			const tr = document.createElement("tr");
			const td = document.createElement("td");
			const td1 = document.createElement("td")
			td.textContent = courses.code;
			td1.textContent = courses.name;
			tr.appendChild(td);
			tr.appendChild(td1);
			coursesBody.appendChild(tr);
		});

	}	

	document.addEventListener("DOMContentLoaded" , () => { loadCourses (); }); 

</script>